/*C5*/SET SCHEMA PUBLIC
drop table ALBUM if exists
drop table ARTISTE if exists
drop table CHANSON if exists
create table ALBUM (CODE_ALBUM integer not null, NOM varchar(80) not null, ARTISTE_ID integer, primary key (CODE_ALBUM))
create table ARTISTE (CODE_ARTISTE integer not null, NOM varchar(80) not null, primary key (CODE_ARTISTE))
create table CHANSON (NUMERO_CHANSON integer not null, TITRE varchar(80) not null, DUREE integer not null, ALBUM_ID integer not null, primary key (NUMERO_CHANSON))
alter table ALBUM add constraint FK_lqw9s15ps5sx3r5dncxa9sddk foreign key (ARTISTE_ID) references ARTISTE
alter table CHANSON add constraint FK_koddmpch7fiqrhpwgercpoqa4 foreign key (ALBUM_ID) references ALBUM
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
alter table ALBUM drop constraint FK_lqw9s15ps5sx3r5dncxa9sddk
alter table CHANSON drop constraint FK_koddmpch7fiqrhpwgercpoqa4
drop table ALBUM if exists
drop table ARTISTE if exists
drop table CHANSON if exists
create table ALBUM (CODE_ALBUM integer not null, NOM varchar(80) not null, ARTISTE_ID integer, primary key (CODE_ALBUM))
create table ARTISTE (CODE_ARTISTE integer not null, NOM varchar(80) not null, primary key (CODE_ARTISTE))
create table CHANSON (ID integer not null, NUMERO_CHANSON integer not null, TITRE varchar(80) not null, DUREE integer not null, ALBUM_ID integer not null, primary key (ID))
alter table ALBUM add constraint FK_lqw9s15ps5sx3r5dncxa9sddk foreign key (ARTISTE_ID) references ARTISTE
alter table CHANSON add constraint FK_koddmpch7fiqrhpwgercpoqa4 foreign key (ALBUM_ID) references ALBUM
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
alter table ALBUM drop constraint FK_lqw9s15ps5sx3r5dncxa9sddk
alter table CHANSON drop constraint FK_koddmpch7fiqrhpwgercpoqa4
drop table ALBUM if exists
drop table ARTISTE if exists
drop table CHANSON if exists
create table ALBUM (CODE_ALBUM integer not null, NOM varchar(80) not null, ARTISTE_ID integer, primary key (CODE_ALBUM))
create table ARTISTE (CODE_ARTISTE integer not null, NOM varchar(80) not null, primary key (CODE_ARTISTE))
create table CHANSON (ID integer generated by default as identity (start with 1), NUMERO_CHANSON integer not null, TITRE varchar(80) not null, DUREE integer not null, ALBUM_ID integer not null, primary key (ID))
alter table ALBUM add constraint FK_lqw9s15ps5sx3r5dncxa9sddk foreign key (ARTISTE_ID) references ARTISTE
alter table CHANSON add constraint FK_koddmpch7fiqrhpwgercpoqa4 foreign key (ALBUM_ID) references ALBUM
INSERT INTO ALBUM VALUES(1,'Live at Rome',NULL)
INSERT INTO CHANSON VALUES(1,1,'Uprising',335,1)
INSERT INTO CHANSON VALUES(2,2,'Supremacy',314,1)
INSERT INTO ALBUM VALUES(2,'Origin of Symmetry',NULL)
INSERT INTO CHANSON VALUES(3,1,'Plug in baby',195,2)
INSERT INTO ARTISTE VALUES(1,'Muse')
DELETE FROM ALBUM WHERE CODE_ALBUM=1
INSERT INTO ALBUM VALUES(1,'Live at Rome',1)
DELETE FROM ALBUM WHERE CODE_ALBUM=2
INSERT INTO ALBUM VALUES(2,'Origin of Symmetry',1)
DELETE FROM CHANSON WHERE ID=1
INSERT INTO CHANSON VALUES(1,1,'Uprising',335,1)
DELETE FROM CHANSON WHERE ID=2
INSERT INTO CHANSON VALUES(2,2,'Supremacy',314,1)
DELETE FROM CHANSON WHERE ID=3
INSERT INTO CHANSON VALUES(3,1,'Plug in baby',195,2)
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
